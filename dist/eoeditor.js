!function(){"use strict";var t={};let e;t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();class n extends HTMLButtonElement{get tooltip(){return this.getAttribute("tooltip")}set tooltip(t){t?this.setAttribute("tooltip",t):this.removeAttribute("tooltip")}constructor(){super()}connectedCallback(){this.addEventListener("mouseenter",this.showTooltip.bind(this)),this.addEventListener("mouseleave",this.hideTooltip.bind(this)),this.addEventListener("mousedown",this.hideTooltip.bind(this))}disconnectedCallback(){this.removeEventListener("mouseenter",this.showTooltip.bind(this)),this.removeEventListener("mouseleave",this.hideTooltip.bind(this)),this.removeEventListener("mousedown",this.hideTooltip.bind(this))}hideTooltip(){null!=e&&(e.hidden=!0)}showTooltip(){if(null==this.tooltip)return;null==e&&(document.head.insertAdjacentHTML("beforeend","<style>\n                    #EOEditorTooltipDiv {\n                        position: absolute;\n                        font-size: 12px;\n                        padding: 4px 8px;\n                        background: #000;\n                        color: #fff;\n                        z-index: 1000;\n                        white-space: nowrap;\n                        user-select: none;\n                    }\n                    #EOEditorTooltipDiv:after {\n                        content: '';\n                        position: absolute;\n                        margin-left: calc(-50% + 4px);\n                        margin-top: -12px;\n                        z-index: 1000;\n                        color: #fff;\n                        border: 4px solid transparent;\t\n                        border-bottom: 4px solid #000;\n                    }\n                    #EOEditorTooltipDiv.tooltip-start:after {\n                        content: '';\n                        position: absolute;\n                        margin-left: calc(-100% + 19px);\n                        margin-top: -12px;\n                        z-index: 1000;\n                        color: #fff;\n                        border: 4px solid transparent;\t\n                        border-bottom: 4px solid #000;\n                    }\n                    #EOEditorTooltipDiv.tooltip-end:after {\n                        content: '';\n                        position: absolute;\n                        margin-left: -11px;\n                        margin-top: -12px;\n                        z-index: 1000;\n                        color: #fff;\n                        border: 4px solid transparent;\t\n                        border-bottom: 4px solid #000;\n                    }\n                </style>"),e=document.createElement("div"),e.id="EOEditorTooltipDiv",document.documentElement.appendChild(e)),e.innerHTML=this.tooltip,e.hidden=!1;const t=e.getBoundingClientRect(),n=this.getBoundingClientRect();let o=n.left-(t.width-n.width)/2;o<0?(o=n.left,e.classList.add("tooltip-start")):(e.classList.remove("tooltip-start"),o+t.width>window.innerWidth?(o=n.right-t.width,e.classList.add("tooltip-end")):e.classList.remove("tooltip-end")),e.style.left=`${o}px`,e.style.top=`${n.bottom+4}px`}}customElements.define("eo-button",n,{extends:"button"});class o extends HTMLElement{constructor(){super();const t=document.createElement("template");t.innerHTML='\n            <style>\n                :host {\n                }\n                .wrapper {\n                    position: fixed;\n                    left: 0;\n                    top: 0;\n                    width: 100%;\n                    height: 100%;\n                    background-color: gray;\n                    opacity: 1;\n                    visibility: visible;\n                    transform: scale(1.1);\n                    transition: visibility 0s linear .25s,opacity .25s 0s,transform .25s;\n                    z-index: 1000;\n                }\n                .modal {\n                    position: fixed;\n                    left: 0;\n                    top: 0;\n                    width: 100%;\n                    height: 100%;\n                }\n            </style>\n            <div class="wrapper">\n                <div class="modal"></div>\n            </div>\n        ';const e=this.attachShadow({mode:"open"});e.appendChild(t.content),this.modalDiv=e.querySelector("div.modal")}connectedCallback(){}disconnectedCallback(){}}customElements.define("eo-image-editor",o);class i extends HTMLElement{constructor(){super(),this.updateSeed=0;const t=document.createElement("template");t.innerHTML="\n            <style>\n                :host {\n                    position: absolute;\n                    background-color: #fff;\n                    border-radius: 4px;\n                    box-shadow: 0 2px 6px 2px rgba(60, 64, 67, 0.15);\n                    z-index: 990;\n                    user-select: none;\n                }\n            </style>\n            <slot></slot>\n        ",this.attachShadow({mode:"open"}).appendChild(t.content)}updatePos(t){const e=null!=t?t:new DOMRect(0,0,0,0),n=this.getBoundingClientRect();let o=e.left;if(o+n.width>window.innerWidth&&(o=e.right-n.width,o<0)){o=e.left-(n.width-e.width)/2;const t=o+n.width+40-window.innerWidth;t>0&&(o-=t)}this.style.left=`${o}px`,this.style.top=`${e.bottom+2}px`}clickHandler(t){t.composedPath().includes(this)||this.hide()}connectedCallback(){this.hide(),document.addEventListener("mousedown",this.clickHandler.bind(this))}disconnectedCallback(){document.removeEventListener("mousedown",this.clickHandler.bind(this)),this.clearUpdateSeed()}hide(){this.style.visibility="hidden"}clearUpdateSeed(){this.updateSeed>0&&(window.clearTimeout(this.updateSeed),this.updateSeed=0)}show(t,e){this.clearUpdateSeed(),this.innerHTML=t,this.updateSeed=window.setTimeout((()=>{this.updatePos(e),this.style.visibility="visible"}),20)}}customElements.define("eo-popup",i);const r={about:{icon:'<path d="M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z" />'},align:{icon:'<path d="M3,3H21V5H3V3M3,7H15V9H3V7M3,11H21V13H3V11M3,15H15V17H3V15M3,19H21V21H3V19Z" />'},backColor:{icon:'<path d="M4,17L6.75,14.25L6.72,14.23C6.14,13.64 6.14,12.69 6.72,12.11L11.46,7.37L15.7,11.61L10.96,16.35C10.39,16.93 9.46,16.93 8.87,16.37L8.24,17H4M15.91,2.91C16.5,2.33 17.45,2.33 18.03,2.91L20.16,5.03C20.74,5.62 20.74,6.57 20.16,7.16L16.86,10.45L12.62,6.21L15.91,2.91Z" />'},bold:{icon:'<path d="M13.5,15.5H10V12.5H13.5A1.5,1.5 0 0,1 15,14A1.5,1.5 0 0,1 13.5,15.5M10,6.5H13A1.5,1.5 0 0,1 14.5,8A1.5,1.5 0 0,1 13,9.5H10M15.6,10.79C16.57,10.11 17.25,9 17.25,8C17.25,5.74 15.5,4 13.25,4H7V18H14.04C16.14,18 17.75,16.3 17.75,14.21C17.75,12.69 16.89,11.39 15.6,10.79Z" />',detectTag:"b",detectStyle:["fontWeight","bold"]},code:{icon:'<path d="M14.6,16.6L19.2,12L14.6,7.4L16,6L22,12L16,18L14.6,16.6M9.4,16.6L4.8,12L9.4,7.4L8,6L2,12L8,18L9.4,16.6Z" />'},copy:{icon:'<path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" />'},custom1:{icon:""},custom2:{icon:""},custom3:{icon:""},cut:{icon:'<path d="M19,3L13,9L15,11L22,4V3M12,12.5A0.5,0.5 0 0,1 11.5,12A0.5,0.5 0 0,1 12,11.5A0.5,0.5 0 0,1 12.5,12A0.5,0.5 0 0,1 12,12.5M6,20A2,2 0 0,1 4,18C4,16.89 4.9,16 6,16A2,2 0 0,1 8,18C8,19.11 7.1,20 6,20M6,8A2,2 0 0,1 4,6C4,4.89 4.9,4 6,4A2,2 0 0,1 8,6C8,7.11 7.1,8 6,8M9.64,7.64C9.87,7.14 10,6.59 10,6A4,4 0 0,0 6,2A4,4 0 0,0 2,6A4,4 0 0,0 6,10C6.59,10 7.14,9.87 7.64,9.64L10,12L7.64,14.36C7.14,14.13 6.59,14 6,14A4,4 0 0,0 2,18A4,4 0 0,0 6,22A4,4 0 0,0 10,18C10,17.41 9.87,16.86 9.64,16.36L12,14L19,21H22V20L9.64,7.64Z" />'},decreaseFontSize:{icon:'<path d="M5.12,14L7.5,7.67L9.87,14M6.5,5L1,19H3.25L4.37,16H10.62L11.75,19H14L8.5,5H6.5M18,17L23,11.93L21.59,10.5L19,13.1V7H17V13.1L14.41,10.5L13,11.93L18,17Z" />'},delete:{icon:'<path d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" />'},foreColor:{icon:'<path d="M9.62,12L12,5.67L14.37,12M11,3L5.5,17H7.75L8.87,14H15.12L16.25,17H18.5L13,3H11Z" />'},formatBlock:{icon:""},h1:{icon:'<path d="M3,4H5V10H9V4H11V18H9V12H5V18H3V4M14,18V16H16V6.31L13.5,7.75V5.44L16,4H18V16H20V18H14Z" />',detectTag:"h1"},h2:{icon:'<path d="M3,4H5V10H9V4H11V18H9V12H5V18H3V4M21,18H15A2,2 0 0,1 13,16C13,15.47 13.2,15 13.54,14.64L18.41,9.41C18.78,9.05 19,8.55 19,8A2,2 0 0,0 17,6A2,2 0 0,0 15,8H13A4,4 0 0,1 17,4A4,4 0 0,1 21,8C21,9.1 20.55,10.1 19.83,10.83L15,16H21V18Z" />',detectTag:"h2"},h3:{icon:'<path d="M3,4H5V10H9V4H11V18H9V12H5V18H3V4M15,4H19A2,2 0 0,1 21,6V16A2,2 0 0,1 19,18H15A2,2 0 0,1 13,16V15H15V16H19V12H15V10H19V6H15V7H13V6A2,2 0 0,1 15,4Z" />',detectTag:"h3"},h4:{icon:'<path d="M3,4H5V10H9V4H11V18H9V12H5V18H3V4M18,18V13H13V11L18,4H20V11H21V13H20V18H18M18,11V7.42L15.45,11H18Z" />',detectTag:"h4"},h5:{icon:'<path d="M3,4H5V10H9V4H11V18H9V12H5V18H3V4M15,4H20V6H15V10H17A4,4 0 0,1 21,14A4,4 0 0,1 17,18H15A2,2 0 0,1 13,16V15H15V16H17A2,2 0 0,0 19,14A2,2 0 0,0 17,12H15A2,2 0 0,1 13,10V6A2,2 0 0,1 15,4Z" />',detectTag:"h5"},h6:{icon:'<path d="M3,4H5V10H9V4H11V18H9V12H5V18H3V4M15,4H19A2,2 0 0,1 21,6V7H19V6H15V10H19A2,2 0 0,1 21,12V16A2,2 0 0,1 19,18H15A2,2 0 0,1 13,16V6A2,2 0 0,1 15,4M15,12V16H19V12H15Z" />',detectTag:"h6"},hp:{icon:'<path d="M13,4A4,4 0 0,1 17,8A4,4 0 0,1 13,12H11V18H9V4H13M13,10A2,2 0 0,0 15,8A2,2 0 0,0 13,6H11V10H13Z" />',detectTag:"p"},increaseFontSize:{icon:'<path d="M5.12,14L7.5,7.67L9.87,14M6.5,5L1,19H3.25L4.37,16H10.62L11.75,19H14L8.5,5H6.5M18,7L13,12.07L14.41,13.5L17,10.9V17H19V10.9L21.59,13.5L23,12.07L18,7Z" />'},indent:{icon:'<path d="M11,13H21V11H11M11,9H21V7H11M3,3V5H21V3M11,17H21V15H11M3,8V16L7,12M3,21H21V19H3V21Z" />'},insertHorizontalRule:{icon:'<path d="M19,13H5V11H19V13Z" />'},insertImage:{icon:'<path d="M19,19H5V5H19M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M13.96,12.29L11.21,15.83L9.25,13.47L6.5,17H17.5L13.96,12.29Z" />'},insertOrderedList:{icon:'<path d="M7,13V11H21V13H7M7,19V17H21V19H7M7,7V5H21V7H7M3,8V5H2V4H4V8H3M2,17V16H5V20H2V19H4V18.5H3V17.5H4V17H2M4.25,10A0.75,0.75 0 0,1 5,10.75C5,10.95 4.92,11.14 4.79,11.27L3.12,13H5V14H2V13.08L4,11H2V10H4.25Z" />'},insertText:{icon:'<path d="M19,3H14.82C14.25,1.44 12.53,0.64 11,1.2C10.14,1.5 9.5,2.16 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M7,7H17V5H19V19H5V5H7V7M17,11H7V9H17V11M15,15H7V13H15V15Z" />'},insertUnorderedList:{icon:'<path d="M7,5H21V7H7V5M7,13V11H21V13H7M4,4.5A1.5,1.5 0 0,1 5.5,6A1.5,1.5 0 0,1 4,7.5A1.5,1.5 0 0,1 2.5,6A1.5,1.5 0 0,1 4,4.5M4,10.5A1.5,1.5 0 0,1 5.5,12A1.5,1.5 0 0,1 4,13.5A1.5,1.5 0 0,1 2.5,12A1.5,1.5 0 0,1 4,10.5M7,19V17H21V19H7M4,16.5A1.5,1.5 0 0,1 5.5,18A1.5,1.5 0 0,1 4,19.5A1.5,1.5 0 0,1 2.5,18A1.5,1.5 0 0,1 4,16.5Z" />',detectTag:"ul"},italic:{icon:'<path d="M10,4V7H12.21L8.79,15H6V18H14V15H11.79L15.21,7H18V4H10Z" />',detectTag:"i",detectStyle:["fontStyle","italic"]},justifyCenter:{icon:'<path d="M3,3H21V5H3V3M7,7H17V9H7V7M3,11H21V13H3V11M7,15H17V17H7V15M3,19H21V21H3V19Z" />',detectStyle:["textAlign","center"]},justifyFull:{icon:'<path d="M3,3H21V5H3V3M3,7H21V9H3V7M3,11H21V13H3V11M3,15H21V17H3V15M3,19H21V21H3V19Z" />',detectStyle:["textAlign","justify"]},justifyLeft:{icon:'<path d="M3,3H21V5H3V3M3,7H15V9H3V7M3,11H21V13H3V11M3,15H15V17H3V15M3,19H21V21H3V19Z" />',detectStyle:["textAlign","left"]},justifyRight:{icon:'<path d="M3,3H21V5H3V3M9,7H21V9H9V7M3,11H21V13H3V11M9,15H21V17H9V15M3,19H21V21H3V19Z" />',detectStyle:["textAlign","right"]},link:{icon:'<path d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />',detectTag:"a"},more:{icon:'<path d="M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z" />'},outdent:{icon:'<path d="M11,13H21V11H11M11,9H21V7H11M3,3V5H21V3M3,21H21V19H3M3,12L7,16V8M11,17H21V15H11V17Z" />'},paste:{icon:'<path d="M19,20H5V4H7V7H17V4H19M12,2A1,1 0 0,1 13,3A1,1 0 0,1 12,4A1,1 0 0,1 11,3A1,1 0 0,1 12,2M19,2H14.82C14.4,0.84 13.3,0 12,0C10.7,0 9.6,0.84 9.18,2H5A2,2 0 0,0 3,4V20A2,2 0 0,0 5,22H19A2,2 0 0,0 21,20V4A2,2 0 0,0 19,2Z" />'},redo:{icon:'<path d="M18.4,10.6C16.55,9 14.15,8 11.5,8C6.85,8 2.92,11.03 1.54,15.22L3.9,16C4.95,12.81 7.95,10.5 11.5,10.5C13.45,10.5 15.23,11.22 16.62,12.38L13,16H22V7L18.4,10.6Z" />'},removeFormat:{icon:'<path d="M6,5V5.18L8.82,8H11.22L10.5,9.68L12.6,11.78L14.21,8H20V5H6M3.27,5L2,6.27L8.97,13.24L6.5,19H9.5L11.07,15.34L16.73,21L18,19.73L3.55,5.27L3.27,5Z" />'},s:{icon:"|"},source:{icon:'<path d="M12,17.56L16.07,16.43L16.62,10.33H9.38L9.2,8.3H16.8L17,6.31H7L7.56,12.32H14.45L14.22,14.9L12,15.5L9.78,14.9L9.64,13.24H7.64L7.93,16.43L12,17.56M4.07,3H19.93L18.5,19.2L12,21L5.5,19.2L4.07,3Z" />'},strikeThrough:{icon:'<path d="M3,14H21V12H3M5,4V7H10V10H14V7H19V4M10,19H14V16H10V19Z" />',detectTag:"strike",detectStyle:["textDecorationLine","line-through"]},style:{icon:'<path d="M3,5A2,2 0 0,1 5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5C3.89,21 3,20.1 3,19V5M12.5,11H11.5A1.5,1.5 0 0,1 10,9.5A1.5,1.5 0 0,1 11.5,8H12.5A1.5,1.5 0 0,1 14,9.5H16A3.5,3.5 0 0,0 12.5,6H11.5A3.5,3.5 0 0,0 8,9.5A3.5,3.5 0 0,0 11.5,13H12.5A1.5,1.5 0 0,1 14,14.5A1.5,1.5 0 0,1 12.5,16H11.5A1.5,1.5 0 0,1 10,14.5H8A3.5,3.5 0 0,0 11.5,18H12.5A3.5,3.5 0 0,0 16,14.5A3.5,3.5 0 0,0 12.5,11Z" />'},subscript:{icon:'<path d="M16,7.41L11.41,12L16,16.59L14.59,18L10,13.41L5.41,18L4,16.59L8.59,12L4,7.41L5.41,6L10,10.59L14.59,6L16,7.41M21.85,21.03H16.97V20.03L17.86,19.23C18.62,18.58 19.18,18.04 19.56,17.6C19.93,17.16 20.12,16.75 20.13,16.36C20.14,16.08 20.05,15.85 19.86,15.66C19.68,15.5 19.39,15.38 19,15.38C18.69,15.38 18.42,15.44 18.16,15.56L17.5,15.94L17.05,14.77C17.32,14.56 17.64,14.38 18.03,14.24C18.42,14.1 18.85,14 19.32,14C20.1,14.04 20.7,14.25 21.1,14.66C21.5,15.07 21.72,15.59 21.72,16.23C21.71,16.79 21.53,17.31 21.18,17.78C20.84,18.25 20.42,18.7 19.91,19.14L19.27,19.66V19.68H21.85V21.03Z" />',detectTag:"sub"},superscript:{icon:'<path d="M16,7.41L11.41,12L16,16.59L14.59,18L10,13.41L5.41,18L4,16.59L8.59,12L4,7.41L5.41,6L10,10.59L14.59,6L16,7.41M21.85,9H16.97V8L17.86,7.18C18.62,6.54 19.18,6 19.56,5.55C19.93,5.11 20.12,4.7 20.13,4.32C20.14,4.04 20.05,3.8 19.86,3.62C19.68,3.43 19.39,3.34 19,3.33C18.69,3.34 18.42,3.4 18.16,3.5L17.5,3.89L17.05,2.72C17.32,2.5 17.64,2.33 18.03,2.19C18.42,2.05 18.85,2 19.32,2C20.1,2 20.7,2.2 21.1,2.61C21.5,3 21.72,3.54 21.72,4.18C21.71,4.74 21.53,5.26 21.18,5.73C20.84,6.21 20.42,6.66 19.91,7.09L19.27,7.61V7.63H21.85V9Z" />',detectTag:"sup"},symbols:{icon:'<path d="M19.15,19H13.39V16.87C15.5,15.25 16.59,13.24 16.59,10.84C16.59,9.34 16.16,8.16 15.32,7.29C14.47,6.42 13.37,6 12.03,6C10.68,6 9.57,6.42 8.71,7.3C7.84,8.17 7.41,9.37 7.41,10.88C7.41,13.26 8.5,15.26 10.61,16.87V19H4.85V16.87H8.41C6.04,15.32 4.85,13.23 4.85,10.6C4.85,8.5 5.5,6.86 6.81,5.66C8.12,4.45 9.84,3.85 11.97,3.85C14.15,3.85 15.89,4.45 17.19,5.64C18.5,6.83 19.15,8.5 19.15,10.58C19.15,13.21 17.95,15.31 15.55,16.87H19.15V19Z" />'},table:{icon:'<path d="M5,4H19A2,2 0 0,1 21,6V18A2,2 0 0,1 19,20H5A2,2 0 0,1 3,18V6A2,2 0 0,1 5,4M5,8V12H11V8H5M13,8V12H19V8H13M5,14V18H11V14H5M13,14V18H19V14H13Z" />'},underline:{icon:'<path d="M5,21H19V19H5V21M12,17A6,6 0 0,0 18,11V3H15.5V11A3.5,3.5 0 0,1 12,14.5A3.5,3.5 0 0,1 8.5,11V3H6V11A6,6 0 0,0 12,17Z" />',detectTag:"u",detectStyle:["textDecorationLine","underline"]},undo:{icon:'<path d="M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z" />'},unlink:{icon:'<path d="M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.43 19.12,14.63 17.79,15L19.25,16.44C20.88,15.61 22,13.95 22,12A5,5 0 0,0 17,7M16,11H13.81L15.81,13H16V11M2,4.27L5.11,7.38C3.29,8.12 2,9.91 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12C3.9,10.41 5.11,9.1 6.66,8.93L8.73,11H8V13H10.73L13,15.27V17H14.73L18.74,21L20,19.74L3.27,3L2,4.27Z" />'}},s=["zh-CN","en-US"],l={"zh-CN":{about:"关于EOEditor",aboutContent:'<p>源代码库: <a href="https://github.com/ETSOO/EOEditor" target="_blank">GitHub</a><br/><a href="https://www.etsoo.com" target="_blank">亿速思维</a>© 版权所有 (2004-2022)</p>',align:"对齐",apply:"应用",backColor:"背景色",bold:"加粗 (Ctrl+B)",byURL:"网址",code:"程序代码",copy:"复制 (Ctrl+C)",custom1:"自定义1",custom2:"自定义2",custom3:"自定义3",cut:"剪切 (Ctrl+X)",decreaseFontSize:"减少字号",delete:"删除",edit:"编辑",foreColor:"文字颜色",formatBlock:"样式",h1:"标题1",h2:"标题2",h3:"标题3",h4:"标题4",h5:"标题5",h6:"标题6",hp:"普通文本",increaseFontSize:"增大字号",indent:"增加缩进",insertHorizontalRule:"插入横线",insertImage:"插入图片",insertOrderedList:"插入有序列表",insertText:"黏贴为纯文本 (Ctrl+Shift+V)",insertUnorderedList:"插入无序列表",italic:"斜体 (Ctrl+I)",justifyCenter:"居中",justifyFull:"两端对齐",justifyLeft:"左对齐",justifyRight:"右对齐",link:"超链接",linkTargetNew:"新窗口",linkTitle:"标题",linkURL:"网址",more:"更多",outdent:"减少缩进",paste:"黏贴 (Ctrl+V)",redo:"重做 (Ctrl+Y)",removeFormat:"清除格式",s:"分隔线",source:"HTML源代码",specialCharacterCategories:"常用符号|标点符号|箭头|货币|数学符号|数字",strikeThrough:"删除线",style:"CSS样式",subscript:"下标",superscript:"上标",symbols:"特殊字符",table:"插入表格",underline:"下划线 (Ctrl+U)",undo:"撤销 (Ctrl+Z)",unlink:"删除链接",uploadFromComputer:"从电脑上传"},"en-US":{about:"About EOEditor",aboutContent:'<p>Source repository: <a href="https://github.com/ETSOO/EOEditor" target="_blank">GitHub</a><br/>Copyright © <a href="https://www.etsoo.com" target="_blank">ETSOO</a> (2004-2022)</p>',align:"Align",apply:"Apply",backColor:"Highlight color",bold:"Bold (Ctrl+B)",byURL:"By URL",code:"Code",copy:"Copy (Ctrl+C)",custom1:"Custom 1",custom2:"Custom 2",custom3:"Custom 3",cut:"Cut (Ctrl+X)",decreaseFontSize:"Decrease font size",delete:"Delete",edit:"Edit",foreColor:"Text color",formatBlock:"Styles",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",hp:"Normal text",increaseFontSize:"Increase font size",indent:"Increase indent",insertHorizontalRule:"Horitontal line",insertImage:"Insert image",insertOrderedList:"Numbered list",insertText:"Pasting without formatting (Ctrl+Shift+V)",insertUnorderedList:"Bulleted list",italic:"Italic (Ctrl+I)",justifyCenter:"Center align",justifyFull:"Justify",justifyLeft:"Left align",justifyRight:"Right align",link:"Link",linkTargetNew:"New window",linkTitle:"Title",linkURL:"URL",more:"More",outdent:"Decrease indent",paste:"Paste (Ctrl+V)",redo:"Redo (Ctrl+Y)",removeFormat:"Clear format",s:"Separator",source:"HTML source",specialCharacterCategories:"Symbols|Punctuation|Arrows|Currency|Math|Numbers",strikeThrough:"Strikethrough",style:"CSS styles",subscript:"Subscript",superscript:"Superscript",symbols:"Special charaters",table:"Insert table",underline:"Underline (Ctrl+U)",undo:"Undo (Ctrl+Z)",unlink:"Remove link",uploadFromComputer:"Upload from computer"}},a={arrows:[8592,8593,8594,8595,8596,8597,8598,8599,8600,8601,8602,8603,8604,8605,8606,8607,8608,8609,8610,8611,8612,8613,8614,8615,8616,8617,8618,8619,8620,8621,8622,8623,8624,8625,8626,8627,8628,8629,8630,8631,8632,8633,8634,8635,8636,8637,8638,8639,8640,8641,8642,8643,8644,8645,8646,8647,8648,8649,8650,8651,8652,8653,8654,8655,8656,8657,8658,8659,8660,8661,8662,8663,8664,8665,8666,8667,8668,8669,8670,8671,8672,8673,8674,8675,8676,8677,8677,8678,8679,8680,8681,8682,8683,8684,8685,8686,8687,8688,8689,8690,8691,8692,8693,8694,8695,8696,8697,8698,8699,8700,8701,8702,8703,10224,10225,10226,10227,10228,10229,10230,10231,10232,10233,10234,10235,10236,10237,10238,10239,10496,10497,10498,10499,10500,10501,10502,10503,10504,10505,10506,10507,10508,10509,10510,10511,10512,10513,10514,10515,10516,10517,10518,10519,10520,10521,10522,10523,10524,10525,10526,10527,10528,10529,10530,10531,10532,10533,10534,10535,10536,10537,10538,10539,10540,10541,10542,10543,10544,10545,10546,10547,10548,10549,10550,10551,10552,10553,10554,10555,10556,10557,10558,10559,10560,10561,10562,10563,10564,10565,10566,10567,10568,10569,10570,10571,10572,10573,10574,10575,10576,10577,10578,10579,10580,10581,10582,10583,10584,10585,10586,10587,10588,10589,10590,10591,10592,10593,10594,10595,10596,10597,10598,10599,10600,10601,10602,10603,10604,10605,10606,10607,10608,10609,10610,10611,10612,10613,10614,10615,10616,10617,10618,10619,10620,10621,10622,10623,10132,10136,10137,10138,10139,10140,10141,10142,10143,10144,10145,10146,10147,10148,10149,10150,10151,10152,10153,10154,10155,10156,10157,10158,10159,10161,10162,10163,10164,10165,10166,10167,10168,10169,10170,10171,10172,10173,10174],currency:[36,162,163,8364,165,8377,8381,20803,164,8352,8353,8354,8355,8356,8357,8358,8359,8360,8361,8362,8363,8365,8366,8367,8368,8369,8370,8371,8372,8373,8374,8376,8378,8380,2546,2547,2801,3065,3647,6107,13136,20870,22278,22286,22291,22300,50896,65020,65284,65504,65505,65509,65510],math:[8800,177,172,60,62,8924,8925,176,185,178,179,402,37,137,8241,8704,8705,8706,8707,8708,8709,8710,8711,8712,8713,8714,8715,8716,8717,8718,8719,8720,8721,8723,8724,8725,8726,8727,8728,8729,8730,8731,8732,8733,8734,8735,8736,8737,8738,8739,8740,8741,8742,8743,8744,8745,8746,8747,8748,8749,8750,8751,8752,8753,8754,8755,8756,8757,8758,8759,8760,8761,8762,8763,8764,8765,8766,8767,8768,8769,8770,8771,8772,8773,8774,8775,8776,8777,8778,8779,8780,8781,8782,8783,8784,8785,8786,8787,8788,8789,8790,8791,8792,8793,8794,8795,8796,8797,8798,8799,8801,8802,8803,8804,8805,8806,8807,8808,8809,8810,8811,8812,8813,8814,8815,8816,8817,8818,8819,8820,8821,8822,8823,8824,8825,8826,8827,8828,8829,8830,8831,8832,8833,8834,8835,8836,8837,8838,8839,8840,8841,8842,8843,8844,8845,8846,8847,8848,8849,8850,8851,8852,8853,8854,8855,8856,8857,8858,8859,8860,8861,8862,8863,8864,8865,8866,8867,8868,8869,8870,8871,8872,8873,8874,8875,8876,8877,8878,8879,8880,8881,8882,8883,8884,8885,8886,8887,8888,8889,8890,8891,8892,8893,8894,8895,8896,8897,8898,8899,8900,8901,8902,8903,8904,8905,8906,8907,8908,8909,8910,8911,8912,8913,8914,8915,8916,8917,8918,8919,8920,8921,8922,8923,8926,8927,8928,8929,8930,8931,8932,8933,8934,8935,8936,8937,8938,8939,8940,8941,8942,8943,8944,8945,8946,8947,8948,8949,8950,8951,8952,8953,8954,8955,8956,8957,8958,8959,8336,8337,8338,8339,8340],numbers:[188,189,190,8528,8529,8530,8531,8532,8533,8534,8535,8536,8537,8538,8539,8540,8541,8542,8543,8544,8545,8546,8547,8548,8549,8550,8551,8552,8553,8554,8555,8556,8557,8558,8559,8560,8561,8562,8563,8564,8565,8566,8567,8568,8569,8570,8571,8572,8573,8574,8575,8576,8577,8578,8579,8580,8581,8582,8585],punctuation:[33,34,35,37,38,39,40,41,42,44,46,47,58,59,63,64,91,92,93,94,95,96,123,124,125,126,160,161,166,167,168,169,170,171,172,173,174,175,178,179,180,181,182,183,184,185,186,187,191,8208,8209,8210,8211,8212,8213,8214,8215,8216,8217,8218,8219,8220,8221,8222,8223,8224,8225,8226,8227,8228,8229,8230,8231,8240,8241,8242,8243,8244,8245,8246,8247,8248,8249,8250,8251,8252,8253,8254,8255,8256,8257,8258,8259,8260,8261,8262,8263,8264,8265,8266,8267,8268,8269,8270,8271,8272,8273,8274,8275,8276,8277,8278,8279,8280,8281,8282,8283,8284,8285,8286,8482],symbols:[169,174,8482,64,182,167,8448,8449,8450,8451,8452,8453,8454,8455,8456,8457,8458,8459,8460,8461,8462,8463,8464,8465,8466,8467,8468,8469,8470,8471,8472,8473,8474,8475,8476,8477,8478,8479,8480,8481,8483,8484,8485,8486,8487,8488,8489,8490,8491,8492,8493,8494,8495,8496,8497,8498,8499,8500,8501,8502,8503,8504,8505,8506,8507,8508,8509,8510,8511,8512,8513,8514,8515,8516,8517,8518,8519,8520,8521,8522,8523,8525,8526,9728,9729,9730,9731,9732,9733,9734,9735,9736,9737,9738,9739,9740,9741,9742,9743,9744,9745,9746,9747,9750,9751,9752,9753,9754,9755,9756,9757,9758,9759,9760,9761,9762,9763,9764,9765,9766,9767,9768,9769,9770,9771,9772,9773,9774,9775,9776,9777,9778,9779,9780,9781,9782,9783,9784,9785,9786,9787,9788,9789,9790,9791,9792,9793,9794,9795,9796,9797,9798,9799,9812,9813,9814,9815,9816,9817,9818,9819,9820,9821,9822,9823,9824,9825,9826,9827,9828,9829,9830,9831,9832,9833,9834,9835,9836,9837,9838,9839,9840,9841,9842,9843,9844,9845,9846,9847,9848,9849,9850,9851,9852,9853,9854,9856,9857,9858,9859,9860,9861,9862,9863,9864,9865,9866,9867,9868,9869,9870,9871,9872,9873,9874,9876,9877,9878,9879,9880,9881,9882,9883,9884,9885,9886,9887,9888,9890,9891,9892,9893,9894,9895,9896,9897,9900,9901,9902,9903,9904,9905,9906,9918,9954,9985,9986,9987,9988,9990,9991,9992,9993,9996,9997,9998,9999,1e4,10001,10002,10003,10004,10005,10006,10007,10008,10009,10010,10011,10012,10013,10014,10015,10016,10017,10018,10019,10020,10021,10022,10023,10025,10026,10027,10028,10029,10030,10031,10032,10033,10034,10035,10036,10037,10038,10039,10040,10041,10042,10043,10044,10045,10046,10047,10048,10049,10050,10051,10052,10053,10054,10055,10056,10057,10058,10059,10061,10063,10064,10065,10066,10070,10072,10073,10074,10075,10076,10077,10078,10081,10082,10083,10084,10085,10086,10087,10088,10089,10090,10091,10092,10093,10094,10095,10096,10097,10098,10099,10100,10101,10102,10103,10104,10105,10106,10107,10108,10109,10110,10111,10112,10113,10114,10115,10116,10117,10118,10119,10120,10121,10122,10123,10124,10125,10126,10127,10128,10129,10130,10131]};class c{constructor(t,e,n,o){this.r=t,this.g=e,this.b=n,this.alpha=o}static adjust(t,e){return null==e?t:(t=Math.abs(t+e))>255?t%255:t}static hexTo(t){return parseInt(t,16)}static toHex(t){return t.toString(16).padStart(2,"0")}static parse(t){if(null==t)return;if((t=t.trim().toUpperCase()).startsWith("#"))return 3===(t=t.substring(1)).length&&(t=Array.from(t).map((t=>t+t)).join("")),6===t.length?new c(c.hexTo(t.substring(0,2)),c.hexTo(t.substring(2,4)),c.hexTo(t.substring(4,6))):void 0;const e=t.match(/^RGBA?\(([0-9,\s\.]+)\)$/);if(null!=e&&2==e.length){const t=e[1].split(/\s*,\s*/);if(3===t.length||4===t.length){const e=t[3];return new c(parseInt(t[0]),parseInt(t[1]),parseInt(t[2]),null==e?void 0:parseFloat(e))}}}clone(t,e,n,o){const i=c.adjust(this.r,t),r=c.adjust(this.g,e),s=c.adjust(this.b,n);if(i!==this.r||r!==this.g||s!==this.b||null!=o&&o!==this.alpha)return new c(i,r,s,o)}getContrastRatio(t){const e=this.getLuminance(),n=t.getLuminance();return(Math.max(e,n)+.05)/(Math.min(e,n)+.05)}getDeltaValue(t){const e=this.toLabValue(),n=t.toLabValue(),o=e[0]-n[0],i=e[1]-n[1],r=e[2]-n[2],s=Math.sqrt(e[1]*e[1]+e[2]*e[2]),l=s-Math.sqrt(n[1]*n[1]+n[2]*n[2]);let a=i*i+r*r-l*l;a=a<0?0:Math.sqrt(a);const c=o/1,u=l/(1+.045*s),d=a/(1+.015*s),p=c*c+u*u+d*d;return p<0?0:Math.sqrt(p)}getLuminance(){const t=[this.r,this.g,this.b].map((t=>(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)));return.2126*t[0]+.7152*t[1]+.0722*t[2]}toHEXColor(){return`#${c.toHex(this.r)}${c.toHex(this.g)}${c.toHex(this.b)}`}toLabValue(){let t,e,n,o=this.r/255,i=this.g/255,r=this.b/255;return o=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,t=(.4124*o+.3576*i+.1805*r)/.95047,e=(.2126*o+.7152*i+.0722*r)/1,n=(.0193*o+.1192*i+.9505*r)/1.08883,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*e-16,500*(t-e),200*(e-n)]}toRGBColor(t){let e,n=this.alpha;return"number"==typeof t?(n=t,e=!0):e=null==t?null!=this.alpha:t,e?`RGBA(${this.r}, ${this.g}, ${this.b}, ${null!=n?n:1})`:`RGB(${this.r}, ${this.g}, ${this.b})`}}class u{constructor(){this.source=[]}get length(){return this.source.length}clear(){this.source=[]}getItem(t){const e=this.source.find((e=>e[0]===t));return null==e?null:e[1]}key(t){return t<0||t>=this.source.length?null:this.source[t][0]}removeItem(t){const e=this.source.findIndex((e=>e[0]===t));-1!=e&&this.source.splice(e,1)}setItem(t,e){const n=this.source.find((e=>e[0]===t));n?n[1]=e:this.source.push([t,e])}}var d,p,h,g,m,f,b,v,y,C,H,L,S;!function(t){let e,n,o,i;function r(t,e){var n;if(null==t)return;if(Array.isArray(e))return s(t,null!==(n=a(e.length>0?e[0]:t,!0))&&void 0!==n?n:"unknown[]");const o=a(e,!1);return null!=o?s(t,o):void 0}function s(t,e){if(null!=t&&("string"!=typeof t||""!==t.trim())){if(e.endsWith("[]")){const n=Array.isArray(t)?t:"string"==typeof t?t.split(/,\s*/g):[t],o=e.substr(0,e.length-2);return n.map((t=>s(t,o))).filter((t=>null!=t))}if(typeof t===e)return t;if("date"!==e){if("bigint"===e)return"string"==typeof t||"number"==typeof t||"boolean"==typeof t?BigInt(t):void 0;if("boolean"===e)return"string"==typeof t||"number"==typeof t?"0"!==t&&"false"!==t&&Boolean(t):void 0;if("number"===e){const e=Number(t);return isNaN(e)?void 0:e}return"string"===e?String(t):void 0}if(t instanceof Date)return t;if("string"==typeof t||"number"==typeof t){const e=new Date(t);return null==e?void 0:e}}}function l(e){switch(e){case t.CombinedEnum.Array:return"unknown[]";case t.CombinedEnum.Bigint:return"bigint";case t.CombinedEnum.Boolean:return"boolean";case t.CombinedEnum.Date:case t.CombinedEnum.DateTime:return"date";case t.CombinedEnum.Number:case t.CombinedEnum.Int:case t.CombinedEnum.IntMoney:case t.CombinedEnum.Money:return"number";default:return"string"}}function a(t,e=!1){if(null==t)return;if(t instanceof Date)return e?"date[]":"date";const n=typeof t,o=e?n+"[]":n;return u(o)?o:void 0}function c(t,e){if(null==t)return null;const n="string"==typeof e?Reflect.get(t,e):t[e];return null==n?null:"number"==typeof n?n:r(n,"string")}function u(e){return t.BasicArray.includes(e)}function d(t,e=!0){if(null==t)return!0;if(t instanceof Date)return!0;if(Array.isArray(t))return!!e&&d(t.find((t=>null!=t)));const n=typeof t;return"function"!==n&&"object"!==n&&"symbol"!==n}t.BasicArray=["number","number[]","bigint","bigint[]","date","date[]","boolean","boolean[]","string","string[]","unknown[]"],function(t){t[t.Number=1]="Number",t[t.Bigint=2]="Bigint",t[t.Date=3]="Date",t[t.Boolean=4]="Boolean",t[t.String=5]="String",t[t.Array=9]="Array"}(e=t.SimpleEnum||(t.SimpleEnum={})),function(t){t[t.Unkwown=0]="Unkwown",t[t.Int=10]="Int",t[t.Money=11]="Money",t[t.IntMoney=12]="IntMoney",t[t.DateTime=13]="DateTime",t[t.Email=21]="Email",t[t.Phone=22]="Phone",t[t.URL=23]="URL",t[t.Logo=24]="Logo"}(n=t.ExtendedEnum||(t.ExtendedEnum={})),t.CombinedEnum={...e,...n},function(t){t[t.Left=1]="Left",t[t.Center=2]="Center",t[t.Right=3]="Right"}(o=t.HAlignEnum||(t.HAlignEnum={})),function(t){t[t.Top=1]="Top",t[t.Center=2]="Center",t[t.Bottom=3]="Bottom"}(i=t.VAlignEnum||(t.VAlignEnum={})),t.getItemId=t=>"function"==typeof t.id?t.id():"number"==typeof t.id?t.id.toString():t.id,t.getItemLabel=t=>"function"==typeof t.label?t.label():t.label,t.convert=r,t.convertByType=s,t.convertSimple=function(e,n){const o=s(e,l(n));if(null!=o){if("number"==typeof o){if(n===t.CombinedEnum.Int||n===t.CombinedEnum.IntMoney)return Math.round(o);if(n===t.CombinedEnum.Money)return Math.round(1e4*o)/1e4}return o}},t.getBasicName=l,t.getBasicNameByValue=a,t.getEnumByKey=function(t,e){if(e in t)return t[e]},t.getEnumByValue=function(t,e){if(e in t)return e},t.getEnumKey=function(t,e){return t[e].toString().toLowerCase()},t.getEnumKeys=function(t){return Object.keys(t).filter((t=>!/^\d+$/.test(t))).map((t=>t))},t.getIdValue=c,t.getStringValue=function(t,e){const n=c(t,e);return"number"==typeof n?n.toString():n},t.isBasicName=u,t.isSimpleObject=function(t,e=!0){return"object"==typeof t&&null!=t&&Object.values(t).every((t=>d(t,e)))},t.isSimpleType=d}(d||(d={})),String.prototype.format=function(...t){let e=this;return t.forEach(((t,n)=>{e=e.replace(new RegExp(`\\{${n}\\}`,"g"),t)})),e},String.prototype.formatInitial=function(t=!1){const e=this.charAt(0);return(t?e.toUpperCase():e.toLowerCase())+this.slice(1)},String.prototype.hideData=function(t){if(0===this.length)return this;if(null!=t){const e=this.indexOf(t);return-1===e?this.hideData():this.substring(0,e).hideData()+this.substring(e)}var e=this.length;return e<4?this.substring(0,1)+"***":e<6?this.substring(0,2)+"***":e<8?this.substring(0,2)+"***"+this.slice(-2):e<12?this.substring(0,3)+"***"+this.slice(-3):this.substring(0,4)+"***"+this.slice(-4)},String.prototype.hideEmail=function(){return this.hideData("@")},String.prototype.isDigits=function(t){return this.length>=(null!=t?t:0)&&/^\d+$/.test(this)},String.prototype.isEmail=function(){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.toLowerCase())},String.prototype.removeNonLetters=function(){return this.replace(/[^a-zA-Z0-9]/g,"")},(S=p||(p={})).addBlankItem=function(t,e,n,o){const i={[null!=e?e:"id"]:"",["string"==typeof n?n:"label"]:null!=o?o:"---"};t.unshift(i)},S.charsToNumber=function(t){return("undefined"==typeof Buffer?[...atob(t)].map((t=>t.charCodeAt(0))):[...Buffer.from(t,"base64")]).reduce(((t,e,n)=>t+e*Math.pow(128,n)),0)},S.correctTypes=function(t,e){for(const n in e){const o=Reflect.get(t,n),i=d.convertByType(o,e[n]);i!==o&&Reflect.set(t,n,i)}},S.equals=function(t,e,n=1){return null==t||null==e?n<=1&&t==e||t===e:"object"==typeof t?JSON.stringify(t)===JSON.stringify(e):0===n?t==e:t===e},S.formatInitial=function(t,e=!1){return t.formatInitial(e)},S.formatString=function(t,...e){return t.format(...e)},S.getDataChanges=function(t,e,n=["id"]){const o=[];return Object.entries(t).forEach((([i,r])=>{if(n.includes(i))return;const s=Reflect.get(e,i);if(null!=r||null!=s){if(null!=s){const e=d.convert(r,s);if(S.equals(e,s))return void Reflect.deleteProperty(t,i);Reflect.set(t,i,e)}null!=r&&""!==r||Reflect.deleteProperty(t,i),o.push(i)}else Reflect.deleteProperty(t,i)})),o},S.getResult=(t,...e)=>"function"==typeof t?t(...e):t,S.getTimeZone=()=>{if("object"==typeof Intl&&"function"==typeof Intl.DateTimeFormat)return Intl.DateTimeFormat().resolvedOptions().timeZone},S.isDigits=(t,e)=>null!=t&&t.isDigits(e),S.isEmail=t=>null!=t&&t.isEmail(),S.joinItems=(t,e=", ")=>t.reduce(((t,e)=>{if(e){const n=e.trim();n&&t.push(n)}return t}),[]).join(e),S.mergeClasses=(...t)=>S.joinItems(t," "),S.newGUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},S.numberToChars=function(t){const e=[];for(;t>0;){const n=t%128;e.push(n),t=(t-n)/128}return"undefined"==typeof Buffer?btoa(String.fromCharCode(...e)):Buffer.from(e).toString("base64")},S.objectEqual=function(t,e,n=[],o=1){const i=S.objectKeys(t,e,n);for(const n of i){const i=Reflect.get(t,n),r=Reflect.get(e,n);if(!S.equals(i,r,o))return!1}return!0},S.objectKeys=function(t,e,n=[]){const o=[...Object.keys(t),...Object.keys(e)].filter((t=>!n.includes(t)));return new Set(o)},S.objectUpdated=function(t,e,n=[],o=1){const i=[],r=S.objectKeys(t,e,n);for(const n of r){const r=Reflect.get(t,n),s=Reflect.get(e,n);S.equals(r,s,o)||i.push(n)}return i},S.parseString=function(t,e){if(null==t||""===t)return e;if("string"==typeof e)return t;try{if(e instanceof Date){const n=new Date(t);return null==n?e:n}return JSON.parse(t)}catch{return null==e?t:e}},S.removeNonLetters=t=>null==t?void 0:t.removeNonLetters(),S.setLabels=(t,e,n)=>{Object.keys(t).forEach((o=>{var i;const r=null==n?o:null!==(i=n[o])&&void 0!==i?i:o,s=e[r];null!=s&&Reflect.set(t,o,s)}))},S.snakeNameToWord=(t,e=!1)=>{const n=t.split("_");return e?(n[0]=n[0].formatInitial(!0),n.join(" ")):n.map((t=>t.formatInitial(!0))).join(" ")},null!==(h=globalThis.localStorage)&&void 0!==h||(globalThis.localStorage=new u),null!==(g=globalThis.sessionStorage)&&void 0!==g||(globalThis.sessionStorage=new u),(L=m||(m={})).setLocalData=function(t,e){null!=e?localStorage.setItem(t,"string"==typeof e?e:JSON.stringify(e)):localStorage.removeItem(t)},L.setSessionData=function(t,e){null!=e?sessionStorage.setItem(t,"string"==typeof e?e:JSON.stringify(e)):sessionStorage.removeItem(t)},L.getLocalData=function(t,e){const n=localStorage.getItem(t);return null==e?p.parseString(n):p.parseString(n,e)},L.getLocalObject=function(t){const e=localStorage.getItem(t);if(null!=e)return JSON.parse(e)},L.getSessionData=function(t,e){const n=sessionStorage.getItem(t);return null==e?p.parseString(n):p.parseString(n,e)},L.getSessionObject=function(t){const e=sessionStorage.getItem(t);if(null!=e)return JSON.parse(e)},function(t){function e(t="#000",e=51,n=!0){var o;const i=null!==(o=c.parse(t))&&void 0!==o?o:new c(0,0,0),r=[];let s=0;for(;s<=255;)r.push(s),s+=e;const l=[i];for(const t of r)for(const e of r)for(const n of r)l.push(i.clone(t,e,n));const a=l.filter((t=>null!=t));if(n){const t=a.shift();if(t){let e=t;const n=[e];for(;a.length>0;){const t=a.reduce(((t,n,o)=>{const i=e.getDeltaValue(n);return null!=i&&i>t.delta&&(t.delta=i,t.color=n,t.index=o),t}),{delta:0,color:e,index:-1});t.delta>0&&(e=t.color,n.push(e),a.splice(t.index,1))}return n}}return a}t.getColors=function(t="#000",n=51,o=!0,i=!0){return e(t,n,o).map((t=>i?t.toHEXColor():t.toRGBColor()))},t.getEColors=e}(f||(f={})),Date.prototype.substract=function(t){const e=this.valueOf()-t.valueOf(),n=e/1e3,o=n/60,i=o/60,r=i/24,s=this.getFullYear(),l=this.getMonth(),a=new Date(t);a.setFullYear(s),a.setMonth(l);const c=(new Date(this).valueOf()-a.valueOf())/864e5,u=c>0?c/b.getDays(s,l):c/b.getDays(s,l-1),d=12*(s-t.getFullYear())+(l-t.getMonth())+u;return{totalMiniseconds:e,totalSeconds:n,totalMinutes:o,totalHours:i,totalDays:r,totalMonths:d,totalYears:d/12}},function(t){function e(t){if(null!=t){if("string"!=typeof t)return t;{const e=t[0];if(e>="0"&&e<="9"&&/[-\/\s]/g.test(t)){const e=Date.parse(t);if(!isNaN(e))return new Date(e)}}}}t.DayFormat={year:"numeric",month:"2-digit",day:"2-digit"},t.MinuteFormat={...t.DayFormat,hour:"2-digit",hourCycle:"h23",minute:"2-digit"},t.SecondFormat={...t.MinuteFormat,second:"2-digit"},t.format=function(n,o,i,r){const s=e(n);if(null==s)return;let l;switch(null!=i||(i=t.DayFormat),i){case"d":l=t.DayFormat;break;case"dm":l=t.MinuteFormat;break;case"ds":l=t.SecondFormat;break;default:l=i}const a={...l,...null!=r&&{timeZone:r}};return new Intl.DateTimeFormat(o,a).format(s).replace(/,\s*/g," ")},t.formatForInput=function(t){return"string"==typeof t&&(t=new Date(t)),null!=t||(t=new Date),[t.getFullYear(),(t.getMonth()+1).toString().padStart(2,"0"),t.getDate().toString().padStart(2,"0")].join("-")},t.getDays=(t,e)=>new Date(t,e+1,0).getDate(),t.jsonParser=t=>function(n,o){if("string"==typeof o&&null!=o&&""!==o&&t.includes(n)){const t=e(o);if(null!=t)return t}return o},t.parse=e}(b||(b={})),"undefined"==typeof navigator&&(t.g.navigator={language:"en-US"},t.g.location={href:"http://localhost/"}),function(t){function e(t,e,i,r,s){var l;const a=Object.keys(i),c=Object.entries(o(t)?n(t):t);for(const[t,n]of c){const o=null!==(l=a.find((e=>0===e.localeCompare(t,"en",{sensitivity:"base"}))))&&void 0!==l?l:r?t:void 0;if(null==o)continue;const c=Reflect.get(i,o);let u;u=null==c?n:s?d.convert(n,c):d.convertByType(n,c),Reflect.set(e,o,u)}}function n(t){const e={};for(const n of new Set(t.keys())){const o=t.getAll(n);e[n]=1==o.length?o[0]:o}return e}function o(t){return"object"==typeof t&&null!=t&&"entries"in t&&"getAll"in t&&"keys"in t}t.CultureField="culture",t.CountryField="country",t.clearFormData=function(t,e,n){const o=new Set(t.keys()),i=e=>{if(null!=n&&n.includes(e))return;const o=t.getAll(e);1==o.length&&""===o[0]&&t.delete(e)};if(null==e)for(const t of o)i(t);else{const r=Object.keys(e);for(const o of r){if(null!=n&&n.includes(o))continue;const i=t.getAll(o);if(i.length>0){const n=Reflect.get(e,o);Array.isArray(n)?i.join("`")===n.join("`")&&t.delete(o):1==i.length&&i[0].toString()===`${n}`&&t.delete(o)}}for(const t of o)r.includes(t)||i(t)}return t},t.dataAs=function(t,n,o=!1){const i={};return e(t,i,n,o,!1),i},t.dataValueAs=function(t,n,o=!1){const i={};return e(t,i,n,o,!0),i},t.detectedCountry=(()=>{var e,n;let o;try{o=null!==(n=null!==(e=new URL(location.href).searchParams.get(t.CountryField))&&void 0!==e?e:sessionStorage.getItem(t.CountryField))&&void 0!==n?n:localStorage.getItem(t.CountryField)}catch{o=null}return o})(),t.detectedCulture=(()=>{var e,n;let o;try{o=null!==(n=null!==(e=new URL(location.href).searchParams.get(t.CultureField))&&void 0!==e?e:sessionStorage.getItem(t.CultureField))&&void 0!==n?n:localStorage.getItem(t.CultureField)}catch{o=null}return null==o&&(o=navigator.languages&&navigator.languages[0]||navigator.language),o})(),t.dimensionEqual=function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.left===e.left&&t.top===e.top&&t.right===e.right&&t.bottom===e.bottom},t.formDataToObject=n,t.getCulture=(t,e)=>{if(0===t.length)return;const n=t.find((t=>t.name===e));if(n)return n;const o=t.find((t=>{var n;return null===(n=t.compatibleName)||void 0===n?void 0:n.includes(e)}));if(o)return o;const i=e.split("-")[0];return t.find((t=>t.name.startsWith(i)))||t[0]},t.getLocationKey=t=>`${location.href}:${t}`,t.headersToObject=function(t){return Array.isArray(t)?Object.fromEntries(t):"undefined"==typeof Headers?Object.fromEntries(Object.entries(t)):t instanceof Headers?Object.fromEntries(t.entries()):function(t){return Symbol.iterator in t}(t)?Object.fromEntries(t):t},t.isFormData=o,t.isJSONContentType=function(t){return!(!t||!t.includes("json")&&!t.startsWith("application/javascript"))},t.mergeFormData=function(t,...e){for(const n of e)for(const e of new Set(n.keys()))t.delete(e),n.getAll(e).forEach((n=>t.append(e,n)));return t},t.mergeURLSearchParams=function(t,e){return Object.entries(e).forEach((([e,n])=>{null!=n&&t.set(e,n.toString())})),t},t.setFocus=function(t,e){const n="string"==typeof t?t:Object.keys(t)[0];null!=e||(e=document.body);const o=e.querySelector(`[name="${n}"]`);null!=o&&o.focus()}}(v||(v={})),function(t){t.applyMixins=function(t,e){e.forEach((e=>{Object.getOwnPropertyNames(e.prototype).forEach((n=>{"constructor"!==n&&(t.prototype[n]=e.prototype[n])}))}))},t.delayedExecutor=function(t,e){let n=0;return{call(o,...i){this.clear(),n=window.setTimeout(((...e)=>{t(...e),n=0}),null!=o?o:e,...i)},clear(){this.isRunning()&&(window.clearTimeout(n),n=0)},isRunning:()=>n>0}},t.promiseHandler=t=>t.then((t=>[t,void 0])).catch((t=>Promise.resolve([void 0,t]))),t.sleep=function(t=0){return new Promise((e=>{setTimeout(e,t)}))}}(y||(y={})),function(t){let e,n;!function(t){t.Backspace="Backspace",t.Tab="Tab",t.Enter="Enter",t.Shift="Shift",t.Control="Control",t.Alt="Alt",t.Pause="Pause",t.CapsLock="CapsLock",t.Escape="Escape",t.Space="",t.PageUp="PageUp",t.PageDown="PageDown",t.End="End",t.Home="Home",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.PrintScreen="PrintScreen",t.Insert="Insert",t.Delete="Delete",t.Digit0="0",t.Digit1="1",t.Digit2="2",t.Digit3="3",t.Digit4="4",t.Digit5="5",t.Digit6="6",t.Digit7="7",t.Digit8="8",t.Digit9="9",t.A="A",t.B="B",t.C="C",t.D="D",t.E="E",t.F="F",t.G="G",t.H="H",t.I="I",t.J="J",t.K="K",t.L="L",t.M="M",t.N="N",t.O="O",t.P="P",t.Q="Q",t.R="R",t.S="S",t.T="T",t.U="U",t.V="V",t.W="W",t.X="X",t.Y="Y",t.Z="Z",t.a="a",t.b="b",t.c="c",t.d="d",t.e="e",t.f="f",t.g="g",t.h="h",t.i="i",t.j="j",t.k="k",t.l="l",t.m="m",t.n="n",t.o="o",t.p="p",t.q="q",t.r="r",t.s="s",t.t="t",t.u="u",t.v="v",t.w="w",t.x="x",t.y="y",t.z="z",t.Meta="Meta",t.ContextMenu="ContextMenu",t.AudioVolumeMute="AudioVolumeMute",t.AudioVolumeDown="AudioVolumeDown",t.AudioVolumeUp="AudioVolumeUp",t.F1="F1",t.F2="F2",t.F3="F3",t.F4="F4",t.F5="F5",t.F6="F6",t.F7="F7",t.F8="F8",t.F9="F9",t.F10="F10",t.F11="F11",t.F12="F12",t.NumLock="NumLock",t.ScrollLock="ScrollLock",t.Semicolon=";",t.Equal="=",t.Comma=",",t.Minus="-",t.Period=".",t.Slash="/",t.Backquote="`",t.BracketLeft="[",t.Backslash="\\",t.BracketRight="]",t.Quote="'",t.Tilde="~",t.Exclamation="!",t.At="@",t.Sharp="#",t.Dollar="$",t.Percent="%",t.Caret="^",t.Ampersand="&",t.Asterisk="*",t.ParenthesisLeft="(",t.ParenthesisRight=")",t.Underscore="_",t.Plus="+",t.OpenBrace="{",t.CloseBrace="}",t.Pipe="|",t.Colon=":",t.Quote2='"',t.AngleBracketLeft="<",t.AngleBracketRight=">",t.QuestionMark="?"}(e=t.Keys||(t.Keys={})),function(t){t.Backspace="Backspace",t.Tab="Tab",t.Enter="Enter",t.ShiftLeft="ShiftLeft",t.ShiftRight="ShiftRight",t.ControlLeft="ControlLeft",t.ControlRight="ControlRight",t.AltLeft="AltLeft",t.AltRight="AltRight",t.Pause="Pause",t.CapsLock="CapsLock",t.Escape="Escape",t.Space="Space",t.PageUp="PageUp",t.PageDown="PageDown",t.End="End",t.Home="Home",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.PrintScreen="PrintScreen",t.Insert="Insert",t.Delete="Delete",t.Digit0="Digit0",t.Digit1="Digit1",t.Digit2="Digit2",t.Digit3="Digit3",t.Digit4="Digit4",t.Digit5="Digit5",t.Digit6="Digit6",t.Digit7="Digit7",t.Digit8="Digit8",t.Digit9="Digit9",t.AudioVolumeMute="AudioVolumeMute",t.AudioVolumeDown="AudioVolumeDown",t.AudioVolumeUp="AudioVolumeUp",t.KeyA="KeyA",t.KeyB="KeyB",t.KeyC="KeyC",t.KeyD="KeyD",t.KeyE="KeyE",t.KeyF="KeyF",t.KeyG="KeyG",t.KeyH="KeyH",t.KeyI="KeyI",t.KeyJ="KeyJ",t.KeyK="KeyK",t.KeyL="KeyL",t.KeyM="KeyM",t.KeyN="KeyN",t.KeyO="KeyO",t.KeyP="KeyP",t.KeyQ="KeyQ",t.KeyR="KeyR",t.KeyS="KeyS",t.KeyT="KeyT",t.KeyU="KeyU",t.KeyV="KeyV",t.KeyW="KeyW",t.KeyX="KeyX",t.KeyY="KeyY",t.KeyZ="KeyZ",t.MetaLeft="MetaLeft",t.MetaRight="MetaRight",t.ContextMenu="ContextMenu",t.Numpad0="Numpad0",t.Numpad1="Numpad1",t.Numpad2="Numpad2",t.Numpad3="Numpad3",t.Numpad4="Numpad4",t.Numpad5="Numpad5",t.Numpad6="Numpad6",t.Numpad7="Numpad7",t.Numpad8="Numpad8",t.Numpad9="Numpad9",t.NumpadMultiply="NumpadMultiply",t.NumpadAdd="NumpadAdd",t.NumpadSubtract="NumpadSubtract",t.NumpadDecimal="NumpadDecimal",t.NumpadDivide="NumpadDivide",t.F1="F1",t.F2="F2",t.F3="F3",t.F4="F4",t.F5="F5",t.F6="F6",t.F7="F7",t.F8="F8",t.F9="F9",t.F10="F10",t.F11="F11",t.F12="F12",t.NumLock="NumLock",t.ScrollLock="ScrollLock",t.Semicolon="Semicolon",t.Equal="Equal",t.Comma="Comma",t.Minus="Minus",t.Period="Period",t.Slash="Slash",t.Backquote="Backquote",t.BracketLeft="BracketLeft",t.Backslash="Backslash",t.BracketRight="BracketRight",t.Quote="Quote"}(n=t.Codes||(t.Codes={})),t.isTypingContent=function(t){return 1===t.length}}(C||(C={})),function(t){function e(t,e,n){if(null!=t)return new Intl.NumberFormat(e,n).format(t)}t.format=e,t.formatMoney=function(t,n,o,i=!1,r={}){var s,l,a,c;return n&&(r.style="currency",r.currency=n,null!==(s=r.currencyDisplay)&&void 0!==s||(r.currencyDisplay="narrowSymbol")),i?(null!==(l=r.minimumFractionDigits)&&void 0!==l||(r.minimumFractionDigits=0),null!==(a=r.maximumFractionDigits)&&void 0!==a||(r.maximumFractionDigits=0)):null!==(c=r.minimumFractionDigits)&&void 0!==c||(r.minimumFractionDigits=2),e(t,o,r)},t.parse=t=>null==t?Number.NaN:"number"==typeof t?t:parseFloat(t.toString()),t.parseWithUnit=t=>{if(/^(\d+)(\D*)$/g.test(t))return[Number(RegExp.$1),RegExp.$2.trim()]}}(H||(H={}));const V=document.createElement("template");V.innerHTML='\n    <style>\n        :host {\n            --color: RGB(0, 0, 0);\n            --color-active-bg: RGBA(48, 58, 178, 0.2);\n            --color-hover-bg: RGBA(48, 58, 178, 0.05);\n            --color-active: RGB(48, 58, 178);\n            --width: auto;\n            --height: 60vh;\n            --radius: 4px;\n            user-select: none;\n        }\n\n        .container {\n            border: 1.5px outset;\n            border-radius: var(--radius);\n        }\n\n        .toolbar {\n            padding: 0.5em 0.5em 0.5em 0.5em;\n            border-bottom: 1px #dfdfdf solid;\n            display: flex;\n            flex-wrap: wrap;\n        }\n            .toolbar svg.color-indicator {\n                transform: translate(3px, -16px)\n            }\n            .toolbar div.separator, eo-popup .icons div.separator {\n                border-left: 1px solid #ccc;\n                height: 20px;\n                margin: 4px 6px;\n                display: inline-block;\n            }\n            .toolbar button, eo-popup .icons button {\n                background-color: transparent;\n                border: none;\n                cursor: pointer;\n                border-radius: calc(var(--radius) * 0.75);\n                margin: 0px 1px;\n                padding: 3px;\n                width: 30px;\n                height: 30px;\n                text-align: left;\n            }\n            .toolbar button.autosize, eo-popup .icons button.autosize {\n                width: auto;\n                height: auto;\n                padding: 3px 6px;\n            }\n            .toolbar button.more {\n                width: 42px;\n            }\n            .toolbar button.text {\n                width: 98px!important;\n            }\n            eo-popup .icons button.line {\n                width: 180px!important;\n                height: 56px!important;\n                display: flex;\n                align-items: center;\n                border-radius: 0px;\n                padding: 3px 9px;\n            }\n            eo-popup .icons button.line:nth-child(2n+1) {\n                background-color: #f6f6f6;\n            }\n            eo-popup .content {\n                font-size: 12px;\n                padding: 0px 1em;\n            }\n            eo-popup .content1 {\n                font-size: 12px;\n                padding: 1em;\n            }\n            eo-popup .grid {\n                padding: 1em;\n                font-size: 12px;\n                display: grid;\n                grid-template-columns: 80px 1fr;\n                column-gap: 6px;\n                row-gap: 6px;\n            }\n            eo-popup .grid .full-width {\n                grid-column: 1 / -1;\n            }\n            eo-popup button.full-width {\n                width: 100%;\n            }\n            eo-popup .flex-two {\n                display: flex;\n                align-items: flex-start;\n            }\n                eo-popup .flex-two > *:first-child {\n                    flex-grow: 2;\n                }\n            eo-popup .icon-button {\n                display: inline-flex;\n                align-items: center;\n                padding: 3px 9px;\n            }\n                eo-popup .icon-button svg {\n                    margin-right: 4px;\n                }\n            eo-popup .color-more {\n                margin-top: 6px;\n                display: flex;\n                width: 290px;\n                flex-wrap: wrap;\n                gap: 4px;\n            }\n                eo-popup .color-more .color-circle {\n                    width: 24px;\n                    height: 24px;\n                    border: 1px solid #ccc;\n                    border-radius: 50%;\n                    cursor: pointer;\n                }\n            eo-popup .color-container {\n                display: flex;\n                gap: 5px;\n                margin-top: 6px;\n                width: 290px;\n                height: 200px;\n            }\n            eo-popup .tab-page {\n                padding: 12px;\n                width: min(75vw, 640px);\n                font-size: 14px;\n            }\n                eo-popup .tab-page .tabs {\n                    display: flex;\n                    flex-wrap: no-wrap;\n                    padding-bottom: 6px;\n                }\n                eo-popup .tab-page .tabs .tab {\n                    padding-right: 6px;\n                }\n                eo-popup .tab-page .latest {\n                    margin-bottom: 6px;\n                }\n                eo-popup .tab-page .tab-content {\n                    height: calc(var(--height) - 120px);\n                    overflow: auto;\n                }\n                    eo-popup .tab-page .tab-content .items {\n                    }\n                    eo-popup .tab-page .tab-content .items div, eo-popup .tab-page .latest div {\n                        box-sizing: border-box;\n                        width: 28px;\n                        height: 28px;\n                        text-align: center;\n                        line-height: 28px;\n                        vertical-align: middle;\n                        border: 1px outset #ccc;\n                        display: inline-block;\n                        cursor: pointer;\n                    }\n                        eo-popup .tab-page .items div:hover, eo-popup .tab-page .latest div:hover {\n                            color: var(--color-active);\n                            background-color: var(--color-active-bg);\n                        }\n                            eo-popup .tab-page .items div:hover:after, eo-popup .tab-page .latest div:hover:after {\n                                content: attr(data-preview);\n                                font-size: 60px;\n                                width: 60px;\n                                height: 60px;\n                                position: absolute;\n                                padding: 12px;\n                                text-align: center;\n                                margin-left: 9px;\n                                margin-top: -86px;\n                                line-height: 60px;\n                                vertical-align: middle;\n                                border: 1px var(--color-active) solid;\n                                background-color: #fff;\n                            }\n            .toolbar button.more span.text {\n                font-size: 13px;\n                padding: 0px 4px;\n                min-width: 72px;\n            }\n            .toolbar button.more span.text, .toolbar button.more svg, svg.inline {\n                vertical-align: middle;\n                display: inline-block;\n            }\n            .toolbar button.more svg.more-icon {\n                margin-left: -3px;\n                margin-right: -3px;\n                margin-bottom: 4px;\n            }\n            .toolbar button:enabled, eo-popup .icons button {\n                color: var(--color);\n            }\n            .toolbar button:enabled svg, eo-popup .icons button svg {\n                fill: var(--color);\n            }\n            .toolbar button:enabled:not(.active):hover, eo-popup .icons button:not(.active):hover {\n                background-color: var(--color-hover-bg);\n            }\n            .toolbar button:enabled:active, .toolbar button.active, eo-popup .icons button:active, eo-popup .icons button.active {\n                background-color: var(--color-active-bg)!important;\n            }\n            .toolbar button:enabled:hover, .toolbar button.active, eo-popup .icons button:hover, eo-popup .icons button.active {\n                color: var(--color-active);\n            }\n            .toolbar button:enabled:hover svg, .toolbar button.active svg, eo-popup .icons button:hover svg, eo-popup .icons button.active svg {\n                fill: var(--color-active);\n            }\n            .toolbar button:disabled, eo-popup .icons button:disabled {\n                color: RGBA(0, 0, 0, 0.33);\n            }\n            .toolbar button:disabled svg, eo-popup .icons button:disabled svg {\n                fill: RGBA(0, 0, 0, 0.33);\n            }\n\n        .edit-area {\n            box-sizing: border-box;\n            width: var(--width);\n            height: var(--height);\n            overflow: hidden;\n        }\n            .edit-area iframe {\n                box-sizing: border-box;\n                border: none;\n                outline: none;\n                width: 100%;\n                height: 100%;\n            }\n            .edit-area textarea {\n                box-sizing: border-box;\n                border: none;\n                outline: none;\n                padding: 0.5em;\n                width: 100%;\n                height: 100%;\n                display: none;\n            }\n    </style>\n    <eo-tooltip></eo-tooltip>\n    <eo-popup></eo-popup>\n    <eo-image-editor></eo-image-editor>\n    <div class="container">\n        <div class="toolbar"></div>\n        <div class="edit-area"><iframe></iframe><textarea></textarea></div>\n    </div>\n';class A extends HTMLElement{constructor(){super(),this.buttons={},this.backupSeed=0,this.selectionChangeSeed=0,this.characterCategories=[["symbols"],["punctuation"],["arrows"],["currency"],["math"],["numbers"]];const t=this.attachShadow({mode:"open"});t.appendChild(V.content.cloneNode(!0)),this.popup=t.querySelector("eo-popup"),this.editorContainer=t.querySelector(".container"),this.editorToolbar=this.editorContainer.querySelector(".toolbar"),this.editorFrame=this.editorContainer.querySelector("iframe"),this.editorSourceArea=this.editorContainer.querySelector(".edit-area textarea")}static get observedAttributes(){return["name","commands","width","height","color","activeColor"]}get editorWindow(){return this._editorWindow}get labels(){return this._labels}get lastClickedButton(){return this._lastClickedButton}get name(){return this.getAttribute("name")}set name(t){t?this.setAttribute("name",t):this.removeAttribute("name")}get cloneStyles(){return this.getAttribute("cloneStyles")}set cloneStyles(t){t?this.setAttribute("cloneStyles",t):this.removeAttribute("cloneStyles")}get commands(){return this.getAttribute("commands")}set commands(t){t?this.setAttribute("commands",t):this.removeAttribute("commands")}get color(){return this.getAttribute("color")}set color(t){t?this.setAttribute("color",t):this.removeAttribute("color")}get activeColor(){return this.getAttribute("activeColor")}set activeColor(t){t?this.setAttribute("activeColor",t):this.removeAttribute("activeColor")}get width(){return this.getAttribute("width")}set width(t){t?this.setAttribute("width",t):this.removeAttribute("width")}get height(){return this.getAttribute("height")}set height(t){t?this.setAttribute("height",t):this.removeAttribute("height")}get styleWithCSS(){return this.getAttribute("styleWithCSS")}set styleWithCSS(t){t?this.setAttribute("styleWithCSS",t):this.removeAttribute("styleWithCSS")}get language(){return this.getAttribute("language")}set language(t){t?this.setAttribute("language",t):this.removeAttribute("language")}backup(t=1e4){this.clearBackupSeed(),this.backupSeed=window.setTimeout((()=>{window.localStorage.setItem(A.BackupKey,this.innerHTML)}),t)}setCommands(){var t;const e=function(t){const e=(null==t?void 0:t.startsWith("["))?JSON.parse(t):"simple"===t?["bold","italic","underline"]:["undo","redo","s",["formatBlock","hp","h1","h2","h3","h4"],"bold","italic","underline","strikeThrough","foreColor","backColor","style","removeFormat","s",["align","justifyLeft","justifyCenter","justifyRight","justifyFull"],"s","insertImage","link","insertUnorderedList","insertOrderedList","table",["more","insertHorizontalRule","symbols","code","s","indent","outdent","s","subscript","superscript"],"s","source"];return e.push("s","about"),e.map((t=>{if(Array.isArray(t)){const[e,...n]=t;return{name:e,command:r[e],subs:n}}return{name:t,command:r[t]}}))}(this.commands),n=function(t){let e=s.find((e=>e===t||e.split("|").includes(t)));if(null==e){const n=t.split("-")[0]+"-";e=s.find((t=>t.startsWith(n))),null==e&&(e="en-US")}return l[e]}(null!==(t=this.language)&&void 0!==t?t:window.navigator.language);this._labels=n;const o=e.map((t=>{var e,o;if(!(t.subs&&t.subs.length>0))return this.createButton(t.name,t.command);const i=null!==(e=t.command.label)&&void 0!==e?e:n[t.name],r=t.command.icon;return`<button is="eo-button" class="${""===r?"more text":"more"===t.name?"":"more"}" name="${t.name}" tooltip="${i}" data-subs="${null===(o=t.subs)||void 0===o?void 0:o.join(",")}">${""===r?`<span class="text">${i}</span>`:this.createSVG(t.command.icon)}${"more"===t.name?"":'<svg width="16" height="16" viewBox="0 0 24 24" class="more-icon"><path d="M7,10L12,15L17,10H7Z" /></svg>'}</button>`})).join("");this.editorToolbar.innerHTML=o,this.setupButtons(this.editorContainer),this.toggleButtons(!0)}setupButtons(t){t.querySelectorAll("button").forEach((t=>{const e=t.name;this.buttons[e]=t,t.addEventListener("click",(n=>{n.preventDefault(),n.stopPropagation(),this.buttonClick(t,e)}))}))}restoreFocus(){this.editorWindow.document.body.focus()}buttonClick(t,e){var n;const o=null===(n=t.dataset.subs)||void 0===n?void 0:n.split(",").map((t=>t.trim()));this._lastClickedButton={name:e,rect:t.getBoundingClientRect(),subs:o},this.popup.hide();const i=r[e];this.restoreFocus(),(i.action?i.action(this):this.executeCommand(e))&&this.onSelectionChange(),this.backup()}setWidth(){const t=this.width;t&&this.style.setProperty("--width",t)}setHeight(){const t=this.height;t&&this.style.setProperty("--height",t)}setColor(){const t=this.color;t&&this.style.setProperty("--color",t,"important")}setActiveColor(){const t=c.parse(this.activeColor);t&&(this.style.setProperty("--color-active",t.toRGBColor(),"important"),this.style.setProperty("--color-hover-bg",t.toRGBColor(.05),"important"),this.style.setProperty("--color-active-bg",t.toRGBColor(.2),"important"))}connectedCallback(){var t;if(this.hidden=!0,this.setWidth(),this.setHeight(),this.setColor(),this.setActiveColor(),this.setCommands(),this.form=this.closest("form"),this.form){const e=document.createElement("input");e.type="hidden",e.name=null!==(t=this.name)&&void 0!==t?t:"content",this.formInput=this.form.appendChild(e),this.form.addEventListener("submit",this.onFormSubmit.bind(this),!0)}document.addEventListener("DOMContentLoaded",(()=>{this.setContent()}),{once:!0})}setContent(){const t=this.editorFrame.contentWindow;if(null==t)return;this._editorWindow=t;const e=t.document;if(e.open(),e.write(this.innerHTML),e.close(),"true"!==e.body.contentEditable){if(e.head.insertAdjacentHTML("beforeend",'<style>\n                    body {\n                        margin: 0px;\n                        padding: 0.5em;\n                    }\n                    pre {\n                        background-color: #f3f3f3;\n                        padding: 12px;\n                    }\n                    table:not([border]) td, table:not([border]) th, table[border="0"] td, table[border="0"] th {\n                        border: 1px dotted #ccc;\n                    }\n                </style>'),"false"!==this.cloneStyles)for(let t=0;t<document.styleSheets.length;t++){const n=document.styleSheets.item(t);null!=n&&null!=n.ownerNode&&e.head.appendChild(n.ownerNode.cloneNode(!0))}e.body.contentEditable="true",e.execCommand("defaultParagraphSeparator",!1,"p"),e.execCommand("enableObjectResizing"),e.execCommand("enableInlineTableEditing");const t=this.styleWithCSS;t&&e.execCommand("styleWithCSS",void 0,t),e.addEventListener("mousedown",(()=>{this.popup.hide()})),e.addEventListener("selectionchange",(()=>this.onSelectionChange())),this.hidden=!1}}disconnectedCallback(){var t;null===(t=this.form)||void 0===t||t.removeEventListener("submit",this.onFormSubmit.bind(this)),this.clearBackupSeed(),this.clearSelectionChangeSeed()}attributeChangedCallback(t,e,n){if(this.isConnected&&null!=n)switch(t){case"name":this.formInput&&(this.formInput.name=n);break;case"commands":this.setCommands();break;case"width":this.setWidth();break;case"height":this.setHeight();break;case"color":this.setColor();break;case"activeColor":this.setActiveColor()}}createButton(t,e){var n;return"s"===t?'<div class="separator"></div>':`<button is="eo-button" name="${t}" tooltip="${null!==(n=e.label)&&void 0!==n?n:this.labels[t]}">${this.createSVG(e.icon)}${"foreColor"===t||"backColor"===t?'<svg width="18" height="4" viewBox="0 0 18 4" class="color-indicator"><rect x="0" y="0" width="18" height="4" /></svg>':""}</button>`}createIconButton(t){var e;if("s"===t)return'<div class="separator"></div>';const n=r[t],o=null!==(e=n.label)&&void 0!==e?e:this.labels[t];return`<button class="icon-button" name="${t}">${this.createSVG(n.icon)}<span>${o}</span></button>`}createSVG(t){return`<svg width="24" height="24" viewBox="0 0 24 24">${t}</svg>`}getSelection(){return this.editorWindow.getSelection()}getFirstRange(){const t=this.getSelection();return null==t||0===t.rangeCount?null:t.getRangeAt(0)}getDeepestNode(t){for(;1===t.childNodes.length;)t=t.childNodes[0];return t}getFirstElement(t){if(null==t)return null;const e="rangeCount"in t?t.rangeCount>0?t.getRangeAt(0):null:t;if(null==e)return null;let n=null;const o=e.commonAncestorContainer,i=o.childNodes.length;if(0===i)n=o;else if(1===i)n=this.getDeepestNode(o.childNodes[0]);else{for(let t=0;t<i;t++)if(o.childNodes[t]===e.startContainer&&t+2<i&&o.childNodes[t+2]===e.endContainer){n=this.getDeepestNode(o.childNodes[t+1]);break}null==n&&(n=0===e.endOffset?e.startContainer:e.endContainer)}return n instanceof HTMLElement?n:n.parentElement}getFirstLink(){const t=this.getFirstElement(this.getSelection());return t?t instanceof HTMLAnchorElement?t:t.closest("a"):null}onFormSubmit(){this.formInput&&(this.formInput.value=this.innerHTML),this.backup(0)}clearBackupSeed(){this.backupSeed>0&&(window.clearTimeout(this.backupSeed),this.backupSeed=0)}clearSelectionChangeSeed(){this.selectionChangeSeed>0&&(window.clearTimeout(this.selectionChangeSeed),this.selectionChangeSeed=0)}getClasses(){const t=this.editorWindow.document.styleSheets;for(let e=0;e<t.length;e++){const n=t.item(e);null!=n&&console.log(n)}}addToColors(t,e){var n;const o=null===(n=c.parse(e))||void 0===n?void 0:n.toRGBColor();o&&t.push(o)}getColors(){const t=[],e=this.editorWindow.document.styleSheets;for(let n=0;n<e.length;n++){const o=e.item(n);if(null!=o)for(let e=0;e<o.cssRules.length;e++){const n=o.cssRules[e];"style"in n&&(this.addToColors(t,n.style.color),this.addToColors(t,n.style.backgroundColor),this.addToColors(t,n.style.borderColor))}}return t}onSelectionChange(){this.clearSelectionChangeSeed(),this.selectionChangeSeed=window.setTimeout((()=>{this.onSelectionChangeDirect()}),50)}setFillColor(t,e){var n;const o=null===(n=this.buttons[t])||void 0===n?void 0:n.querySelector(".color-indicator");o&&(o.style.fill=e)}getFillColor(t){var e;const n=null===(e=this.buttons[t])||void 0===e?void 0:e.querySelector(".color-indicator");return null==n?void 0:n.style.fill}onSelectionChangeDirect(){var t;const e=this.getSelection();if(null==e||"None"===e.type)return;const n=this.getFirstRange();this.isCaretSelection(e)||""===(null==n?void 0:n.toString())?this.toggleButtonsCaret():this.toggleButtons(!1);let o=this.getFirstElement(n);if(o){const t=this.editorWindow.getComputedStyle(o);this.setFillColor("foreColor",t.color),this.setFillColor("backColor",t.backgroundColor)}for(;o;){for(const e in this.buttons){const n=e,i=this.buttons[n];if(null==i||i.classList.contains("active"))continue;const s=r[n];if(null!=s.detectStyle||null!=s.detectTag){if(this.detectElement(o,s)){i.classList.add("active");break}}else{let e;if(""===s.icon&&(e=i.dataset.subs)){const n=e.split(",").map((t=>({key:t,command:r[t]}))).find((t=>this.detectElement(o,t.command)));if(n){const e=i.querySelector("span.text");e&&(e.innerHTML=null!==(t=n.command.label)&&void 0!==t?t:this.labels[n.key]);break}}}}o=o.parentElement}}detectElement(t,e){var n;return(null===(n=e.detectTag)||void 0===n?void 0:n.toUpperCase())===t.tagName||e.detectStyle&&t.style.getPropertyValue(e.detectStyle[0])===e.detectStyle[1]}delectPopupSelection(t){const e=this.getSelection(),n=this.isCaretSelection(e);t.forEach((t=>{const e=this.popup.querySelector(`button[name="${t}"]`);e&&(e.disabled=n&&this.isCaretKey(t))}));let o=this.getFirstElement(e);for(;o;){const e=t.map((t=>({key:t,command:r[t]}))).find((t=>this.detectElement(o,t.command)));if(e){const t=this.popup.querySelector(`button[name="${e.key}"]`);null==t||t.classList.add("active");break}o=o.parentElement}}popupBlocks(){const t=this._lastClickedButton;if(null==t||null==t.subs)return;const e=t.subs.map((t=>{var e;return`<button is="eo-button" class="line" name="${t}"><${t}>${null!==(e=r[t].label)&&void 0!==e?e:this.labels[t]}</${t}></button>`})).join("");this.popupContent(`<div class="icons">${e}</div>`),this.setupButtons(this.popup),this.delectPopupSelection(t.subs)}popupStyle(){}popupSymbols(){const t=window.localStorage.getItem(A.LatestCharactersKey),e=t?JSON.parse(t):[],n=this.labels.specialCharacterCategories.split("|"),o=`<div class="tab-page">${e.length>0?`<div class="latest">${e.map((t=>{const e=t.toString(16);return`<div title="U+${e}" data-preview="&#x${e};">&#x${e};</div>`})).join("")}</div>`:""}<div class="tabs icons">${this.characterCategories.map(((t,e)=>`<button is="eo-button" name="${t[0]}" class="tab autosize">${n[e]}</button>`)).join("")}</div><div class="tab-content"><div class="items"></div></div></div>`;let i;this.popupContent(o);const r=this.popup.querySelector("div.items");this.popup.querySelectorAll("div.latest div").forEach((t=>{t.addEventListener("click",(()=>{this.insertHTML(t.innerHTML,!0)}))})),this.popup.querySelectorAll("button.tab").forEach(((t,n)=>{t.addEventListener("click",(()=>{t.classList.add("active");const o=this.characterCategories[n];let s=o[1];null==s&&(s=a[o[0]].map((t=>{const e=t.toString(16);return`<div title="U+${e}" data-preview="&#x${e};">&#x${e};</div>`})).join(""),o[1]=s),r.innerHTML=s,r.querySelectorAll("div").forEach((t=>{t.addEventListener("click",(()=>{this.insertHTML(t.innerHTML,!0);const n=parseInt(t.title.substring(2),16),o=e.indexOf(n);0!==o&&(-1!==o&&e.splice(o,1),e.unshift(n),e.length>22&&e.pop(),window.localStorage.setItem(A.LatestCharactersKey,JSON.stringify(e)))}))})),i&&i.classList.remove("active"),i=t})),0===n&&t.dispatchEvent(new MouseEvent("click"))}))}popupColors(t,e){var n;const o=window.localStorage.getItem(A.FavoriteColorsKey),i=o?JSON.parse(o):[],r=[...new Set([...i,...this.getColors(),new c(0,0,0).toRGBColor(),new c(255,255,255).toRGBColor(),new c(255,0,0).toRGBColor(),new c(0,255,0).toRGBColor(),new c(0,0,255).toRGBColor(),new c(0,255,255).toRGBColor(),new c(255,255,0).toRGBColor(),new c(255,0,255).toRGBColor()])],s=`<div class="content1">\n            <div class="preview" style="display: flex; gap: 6px;">\n                <div style="flex-grow: 2; border: 1px solid #ccc; background-color: ${t}"></div>\n                <input size="12" value="${t}" />\n                <button style="min-width: 60px;">${null===(n=this.labels)||void 0===n?void 0:n.apply}</button>\n            </div>\n            <div class="color-more">${r.map((t=>`<div class="color-circle" style="background-color: ${t}"></div>`)).join("")}</div>\n            <div class="color-container">\n                <div id="color-preview" style="height: 200; width: 40px;"></div>\n                <canvas id="color-block" height="200" width="200"></canvas>\n                <canvas id="color-strip" height="200" width="40"></canvas>\n            </div>\n        </div>`;this.popupContent(s);const l=this.popup.querySelector("div.preview"),a=l.querySelector("div"),u=l.querySelector("input");u.addEventListener("change",(()=>{a.style.backgroundColor=u.value})),l.querySelector("button").addEventListener("click",(()=>{var t;const e=u.value.trim();if(!e)return void u.focus();const n=null===(t=c.parse(e))||void 0===t?void 0:t.toRGBColor();null!=n?d(n):u.focus()}));const d=t=>{var n;const o=i.indexOf(t);0!==o&&(-1!==o&&i.splice(o,1),i.unshift(t),i.length>16&&i.pop(),window.localStorage.setItem(A.FavoriteColorsKey,JSON.stringify(i))),e(t),this.popup.hide(),this.restoreFocus(),null===(n=this.getFirstRange())||void 0===n||n.collapse()},p=this.popup.querySelector("#color-preview"),h=this.popup.querySelector("canvas#color-block"),g=h.getContext("2d"),m=t=>{const e=this.getPointColor(t);p.style.backgroundColor=e},f=t=>{const e=this.getPointColor(t);return a.style.backgroundColor=e,u.value=e,e};h.addEventListener("mousemove",m),h.addEventListener("click",f),this.popup.querySelectorAll("div.color-circle").forEach((t=>{t.addEventListener("click",(()=>{d(t.style.backgroundColor)}))}));const b=this.popup.querySelector("canvas#color-strip");b.addEventListener("click",(t=>{const e=f(t);v(e)})),b.addEventListener("mousemove",m),this.createColorStrip(b);const v=t=>{p.style.backgroundColor=t;const{width:e,height:n}=h;g.fillStyle=t,g.fillRect(0,0,e,n);var o=g.createLinearGradient(0,0,e,0);o.addColorStop(0,"rgba(255,255,255,1)"),o.addColorStop(1,"rgba(255,255,255,0)"),g.fillStyle=o,g.fillRect(0,0,e,n);var i=g.createLinearGradient(0,0,0,n);i.addColorStop(0,"rgba(0,0,0,0)"),i.addColorStop(1,"rgba(0,0,0,1)"),g.fillStyle=i,g.fillRect(0,0,e,n)};v("rgba(255,0,0,1)")}getPointColor(t){return`rgb(${t.target.getContext("2d").getImageData(t.offsetX,t.offsetY,1,1).data.slice(0,3).join(", ")})`}createColorStrip(t){const e=t.getContext("2d"),{width:n,height:o}=t;e.rect(0,0,n,o);var i=e.createLinearGradient(0,0,0,o);i.addColorStop(0,"rgb(255, 0, 0)"),i.addColorStop(.17,"rgb(255, 255, 0)"),i.addColorStop(.34,"rgb(0, 255, 0)"),i.addColorStop(.51,"rgb(0, 255, 255)"),i.addColorStop(.68,"rgb(0, 0, 255)"),i.addColorStop(.85,"rgb(255, 0, 255)"),i.addColorStop(1,"rgb(255, 0, 0)"),e.fillStyle=i,e.fill()}popupContent(t){var e;this.popup.show(t,null===(e=this._lastClickedButton)||void 0===e?void 0:e.rect)}popupSubs(){const t=this._lastClickedButton;if(null==t||null==t.subs)return;const e=t.subs.map((t=>{const e=r[t];return this.createButton(t,e)})).join("");this.popupContent(`<div class="icons">${e}</div>`),this.setupButtons(this.popup),this.delectPopupSelection(t.subs)}toggleButtons(t){for(const e in this.buttons){if("source"===e)continue;const n=this.buttons[e];null!=n&&(n.disabled=t,n.classList.remove("active"))}}isCaretSelection(t){return"Caret"===(null==t?void 0:t.type)}isCaretKey(t){return("link"!==t||!this.getFirstLink())&&A.caretKeys.includes(t)}toggleButtonsCaret(){for(const t in this.buttons){const e=t,n=this.buttons[e];n.classList.remove("active"),n.disabled=this.isCaretKey(e)}return!0}showAbout(){const t=`<div class="content">\n            <p><strong>ETSOO EOEditor</strong></p>\n            ${this.labels.aboutContent}\n            </div>`;this.popupContent(t)}unlink(){return!!this.getFirstLink()&&this.editorWindow.document.execCommand("unlink")}link(){var t,e,n,o,i,r;const s=this.getFirstLink(),l=`<div class="grid">\n                <div>${null===(t=this.labels)||void 0===t?void 0:t.linkURL}: </div><div><textarea name="url" maxlength="255" rows="3" cols="30">${null!==(e=null==s?void 0:s.href)&&void 0!==e?e:""}</textarea></div>\n                <div></div><div class="flex-two"><div><label><input name="target" type="checkbox" value="_blank"${"_blank"===(null==s?void 0:s.target)?" checked":""}/>${null===(n=this.labels)||void 0===n?void 0:n.linkTargetNew}</label></div>${null==s?"":this.createIconButton("unlink")}</div>\n                <div class="full-width"><button class="full-width" name="apply">${null===(o=this.labels)||void 0===o?void 0:o.apply}</button></div>\n            </div>`;this.popupContent(l),null===(i=this.popup.querySelector('button[name="unlink"]'))||void 0===i||i.addEventListener("click",(()=>{this.popup.hide(),this.restoreFocus();const t=this.getFirstRange();if(t&&s){t.selectNodeContents(s),this.unlink();const e=this.getFirstRange();null==e||e.collapse()}})),null===(r=this.popup.querySelector('button[name="apply"]'))||void 0===r||r.addEventListener("click",(()=>{const t=this.popup.querySelector('textarea[name="url"]'),e=this.popup.querySelector('input[name="target"]');if(s)s.href=t.value,e.checked?s.target=e.value:s.target="";else{if(""===t.value)return void t.focus();const[n,o]=this.surroundNode("a");o instanceof HTMLAnchorElement&&(o.href=t.value,o.target=e.checked?e.value:"")}this.popup.hide()}))}toggleSource(){const t=this.buttons.source;if(null==t)return;const e=t.classList.toggle("active"),n=["none","block"];e?this.editorSourceArea.value=this.editorWindow.document.body.innerHTML:(this.editorWindow.document.body.innerHTML=this.editorSourceArea.value,n.reverse()),this.editorFrame.style.display=n[0],this.editorSourceArea.style.display=n[1],this.toggleButtons(e),this.backup(1e3)}insertHTML(t,e=!0){const n=this.getFirstRange();if(null==n)return null;n.deleteContents();const o=document.createElement("template");return o.innerHTML=t.trim(),o.content.childNodes.forEach((t=>{if(n.insertNode(t),e){const e=o.ownerDocument.createNodeIterator(t,NodeFilter.SHOW_TEXT);let i;for(;i=e.nextNode();)n.selectNodeContents(i),n.collapse()}})),n}insertImage(){var t,e,n,o;const i=`<style>\n            .preview-container { width: 480px; height: 320px; overflow: auto; margin: 6px 0px; }\n        </style><div class="content1">\n            <div>\n                <label for="imageFile">\n                    <input type="radio" name="way" value="0" checked/>${null===(t=this.labels)||void 0===t?void 0:t.uploadFromComputer}<svg width="16" height="16" viewBox="0 0 24 24" class="inline"><path d="M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z" /></svg>\n                </label>\n                <input id="imageFile" type="file" multiple accept="image/*" style="opacity: 0">\n            </div>\n            <div>\n                <label><input type="radio" name="way" value="1"/>${null===(e=this.labels)||void 0===e?void 0:e.byURL}</label>\n                <div><textarea style="width: 100%"></textarea></div>\n            </div>\n            <div class="preview-container">\n            </div>\n            <div style="padding-bottom: 12px; text-align: right"><button class="icon-button" name="edit" disabled>${this.createSVG('<path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z" />')}<span>${null===(n=this.labels)||void 0===n?void 0:n.edit}</span></button></div>\n            <div class="full-width"><button class="full-width" name="apply" disabled>${null===(o=this.labels)||void 0===o?void 0:o.apply}</button></div>\n        </div>`;this.popupContent(i);const r=this.popup.querySelectorAll('input[type="radio"]'),s=this.popup.querySelector('input[type="file"]'),l=this.popup.querySelector("textarea"),a=this.popup.querySelector(".preview-container"),c=this.popup.querySelector('button[name="apply"]'),u=this.popup.querySelector('button[name="edit"]');null==c||c.addEventListener("click",(()=>{this.popup.hide(),this.insertHTML(a.innerHTML)})),s.addEventListener("click",(()=>{r.item(0).checked=!0})),s.addEventListener("change",(()=>{const t=s.files;if(null!=t&&0!==t.length){a.innerHTML="",c.disabled=!0,u.disabled=!0;for(const e of t){if(!e.type.startsWith("image/"))continue;const t=new FileReader;t.readAsDataURL(e),t.onload=()=>{const n=t.result;if(null==n||!this.isConnected)return;const o=document.createElement("img");o.alt=e.name,o.src=n,a.appendChild(o),c.disabled=!1,u.disabled=!1}}}})),l.addEventListener("focusin",(()=>{r.item(1).checked=!0})),l.addEventListener("change",(()=>{const t=l.value.trim();c.disabled=""===t,c.disabled||(a.innerHTML=t.split(/\s*;\s*/g).map((t=>`<img src="${t}" />`)).join(""))}))}insertTable(){const t=window.innerWidth<768;let e=!1;const n=(t,e,n)=>{let o=`<table ${n?'border="0" class="table-cells"':'border="1"'}>`;for(let i=0;i<t;i++){o+="<tr>";for(let t=0;t<e;t++)o+=`<td${n?' class="hidden"':""}><br/></td>`;o+="</tr>"}return o+="</table>",o},o=n(10,15,!0),i=t=>[t.closest("tr").rowIndex,t.cellIndex],r=(n,o,r)=>{l.querySelectorAll("td").forEach((s=>{const[l,c]=i(s);l>n||c>o?(t&&e||s.classList.add("hidden"),s.classList.remove("focus")):(t&&e||s.classList.remove("hidden"),l<n&&c<o?r&&s.classList.add("focus"):s.classList.remove("focus")),r&&(a.innerText=`${n} x ${o}`)}))},s=`<style>\n            .table-cells td { width: 16px; height: 16px; border: 1px solid #ccc; }\n            .table-cells td.hidden { display: none; }\n            .table-cells td.focus { background-color: var(--color-active-bg); }\n        </style><div class="content1">\n            ${o}\n            <div id="tip" style="text-align: center">0 x 0</div>\n        </div>`;this.popupContent(s);const l=this.popup.querySelector("table"),a=this.popup.querySelector("#tip");this.popup.querySelectorAll("td").forEach((t=>{t.addEventListener("mouseenter",(()=>{const[e,n]=i(t);r(e+1,n+1,!0)})),t.addEventListener("touchmove",(()=>{const[e,n]=i(t);r(e+1,n+1,!0)})),t.addEventListener("click",(()=>{const[e,o]=i(t),r=n(e+1,o+1,!1);this.insertHTML(r,!1),this.popup.hide()}))})),t?r(6,10,!1):r(1,1,!1),e=!0}executeCommand(t){if("about"===t)return this.showAbout(),!0;if("source"===t)return this.toggleSource(),!1;if("align"===t||"more"===t)return this.popupSubs(),!0;if("formatBlock"===t)return this.popupBlocks(),!0;if("code"===t)return!this.insertHTML("<pre><code>\n</code></pre>");if("symbols"===t)return this.popupSymbols(),!0;if("insertImage"===t)return this.insertImage(),!0;if("table"===t)return this.insertTable(),!0;if("style"===t)return this.popupStyle(),!0;const e=this.editorWindow.document;return"backColor"===t||"foreColor"===t?(this.popupColors(this.getFillColor(t),(n=>{e.execCommand(t,!1,n)})),!1):t.startsWith("h")&&2===t.length?"hp"===t?e.execCommand("formatBlock",!1,"p"):e.execCommand("formatBlock",!1,t):"link"===t?(this.link(),!0):"unlink"===t?this.unlink():"insertText"===t?(navigator.clipboard.readText().then((n=>{e.execCommand(t,!1,n)})),!0):"increaseFontSize"===t?!!e.execCommand(t)||this.surroundNode("big","small")[0]:"decreaseFontSize"===t?!!e.execCommand(t)||this.surroundNode("small","large")[0]:e.execCommand(t)}surroundNode(t,...e){var n;const o=this.getFirstRange();if(null==o)return[!1];if(e.length>0){const i=o.commonAncestorContainer instanceof Element?o.commonAncestorContainer.tagName:null===(n=o.commonAncestorContainer.parentElement)||void 0===n?void 0:n.tagName;if(null!=i&&(i===t.toUpperCase()||e.map((t=>t.toUpperCase())).includes(i)))return[!1]}try{const e=document.createElement(t);return o.surroundContents(e),o.selectNodeContents(e),[!0,e]}catch{return[!1]}}}A.caretKeys=["bold","italic","underline","strikeThrough","foreColor","backColor","removeFormat","link","unlink","subscript","superscript"],A.BackupKey="EOEditor-Backup",A.FavoriteColorsKey="EOEditor-Favorite-Colors",A.LatestCharactersKey="EOEditor-Latest-Characters",customElements.define("eo-editor",A)}();